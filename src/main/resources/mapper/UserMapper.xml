<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ideality.coreflow.user.query.mapper.UserMapper">
    <resultMap id="UserRoleResultMap" type="com.ideality.coreflow.user.query.dto.ParticipantUserDTO">
        <id property="userId" column="id"/>
        <result property="roleId" column="role_id"/>
    </resultMap>
    <select id="selectByDeptName" parameterType="map" resultMap="UserRoleResultMap">
        SELECT
               a.id
          FROM user a
          JOIN user_of_role b
            ON a.id = b.user_id
         WHERE a.id = #{userId}
           AND b.role_id = #{roleId}
    </select>
</mapper>