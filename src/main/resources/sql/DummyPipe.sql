-- 프로젝트 생성 후 아래 작업 데이터 추가하기
INSERT INTO company_a.project
(name, description, created_at, start_base, end_base, start_expect, end_expect, start_real, end_real, progress_rate, passed_rate, delay_days, status, template_id)
VALUES
    ('26/FW-한화이글스-콜라보-프로젝트', '한화이글스와 우리 회사의 옷 콜라보를 위한 의류 개발', '2025-06-09 11:20:25', '2025-06-02', '2025-06-13', '2025-06-02', '2025-06-19', null, null, 50, 0, 2, 'PENDING', null),
    ('3번 프로젝트', '설명입니다', '2025-06-09 11:25:58', '2025-06-01', '2025-07-15', '2025-06-01', '2025-07-15', null, null, 100, 0, 0, 'PROGRESS', null),
    ('6번 프로젝트', '설명입니다', '2025-06-09 11:27:56', '2025-06-01', '2025-07-15', '2025-06-01', '2025-07-15', null, null, 0, 0, 0, 'COMPLETED', null),
    ('7번 프로젝트', '업무 효율을 높이기 위한 자동화 시스템 구축', '2025-06-09 11:29:08', '2025-06-01', '2025-06-13', '2025-06-01', '2025-07-10', '2025-06-10', '2025-06-28', 50, 0, 0, 'CANCELLED', 3),
    ('8번 프로젝트', '설명입니다', '2025-06-11 09:50:10', '2025-06-01', '2025-06-11', '2025-06-01', '2025-06-11', null, null, 0, 100, 0, 'DELETED', null),
    ('9번 프로젝트', '설명입니다', '2025-06-11 10:25:35', '2025-06-02', '2025-06-17', '2025-06-02', '2025-06-17', null, null, 0, 60, 0, 'PENDING', null),
    ('지연 전파 테스트 프로젝트', '지연 전파 기능 확인용 테스트 프로젝트', '2025-06-14 15:05:06', '2025-07-01', '2025-07-17', '2025-07-01', '2025-07-22', null, null, 0, 0, 3, 'PENDING', null);

-- 참여자
INSERT INTO participant (target_type, target_id, user_id, role_id)
VALUES
    ('PROJECT', 2, 9, 1),
    ('PROJECT', 3, 9, 1),
    ('PROJECT', 4, 9, 1),
    ('PROJECT', 5, 9, 1),
    ('PROJECT', 6, 9, 1),
    ('PROJECT', 7, 9, 1),
    ('PROJECT', 8, 9, 1);




-- 작업(work) 테이블 초기 데이터 삽입
INSERT INTO work (
    id, name, description, created_at,
    start_base, end_base, start_expect, end_expect,
    start_real, end_real,
    progress_rate, passed_rate, delay_days,
    status, slack_time, parent_task_id, project_id
) VALUES
      (100, '시장 조사', '여름 시즌 트렌드 분석 및 벤치마킹', '2025-06-15 23:30:00',
       '2025-06-01', '2025-06-05', '2025-06-01', '2025-06-05',
       '2025-06-01', '2025-06-05',
       100, 100, 0, 'COMPLETED', 0, NULL, 8),

      (101, '제품 기획안 작성', '타깃 및 제품 콘셉트 정의', '2025-06-15 23:30:00',
       '2025-06-06', '2025-06-10', '2025-06-06', '2025-06-10',
       '2025-06-06', '2025-06-10',
       100, 100, 0, 'COMPLETED', 1, 100, 8),

      (102, '디자인 시안 제작', '기획안을 바탕으로 1차 디자인 안 도출', '2025-06-15 23:30:00',
       '2025-06-11', '2025-06-17', '2025-06-11', '2025-06-17',
       NULL, NULL,
       80, 80, 0, 'PROGRESS', 1, 101, 8),

      (103, '소재 소싱', '디자인에 맞는 소재 확보', '2025-06-15 23:30:00',
       '2025-06-11', '2025-06-15', '2025-06-11', '2025-06-15',
       NULL, NULL,
       60, 60, 0, 'PROGRESS', 2, 101, 8),

      (104, '샘플 제작', '디자인 및 소재 확정 후 샘플 제작', '2025-06-15 23:30:00',
       '2025-06-18', '2025-06-23', '2025-06-18', '2025-06-23',
       NULL, NULL,
       0, 0, 0, 'PENDING', 1, NULL, 8),

      (105, '내부 피드백 및 수정', '샘플 기반 피드백 및 수정안 도출', '2025-06-15 23:30:00',
       '2025-06-24', '2025-06-27', '2025-06-24', '2025-06-27',
       NULL, NULL,
       0, 0, 0, 'PENDING', 0, NULL, 8),

      (106, '최종 생산 준비', '수정 반영된 최종 샘플 승인 및 생산 준비', '2025-06-15 23:30:00',
       '2025-06-28', '2025-07-05', '2025-06-28', '2025-07-05',
       NULL, NULL,
       0, 0, 0, 'PENDING', 0, NULL, 8),

      (107, '본 생산', '제품 대량 생산 진행', '2025-06-15 23:30:00',
       '2025-07-06', '2025-07-15', '2025-07-06', '2025-07-15',
       NULL, NULL,
       0, 0, 0, 'PENDING', 0, NULL, 8);

-- 작업 간 관계(relation) 삽입
INSERT INTO relation (prev_work_id, next_work_id)
VALUES
    (100, 101),
    (100, 103),
    (100, 104), -- 추가 연결: 시장 조사 → 샘플 제작
    (101, 102),
    (101, 103),
    (102, 104),
    (103, 104),
    (104, 105),
    (105, 106),
    (106, 107);

-- 작업별 참여 부서(work_dept) 삽입
INSERT INTO work_dept (work_id, dept_id)
VALUES
    (100, 1), -- 시장 조사: 기획팀
    (101, 1), -- 기획안 작성: 기획팀
    (102, 2), -- 디자인 시안: 디자인팀
    (103, 3), -- 소재 소싱: 소싱팀
    (104, 4), -- 샘플 제작: 생산팀
    (105, 2), (105, 6), -- 피드백 수정: 디자인 + 개발팀
    (106, 4), (106, 5), -- 생산 준비: 생산 + 협력업체
    (107, 4), (107, 5); -- 본 생산: 생산 + 협력업체
