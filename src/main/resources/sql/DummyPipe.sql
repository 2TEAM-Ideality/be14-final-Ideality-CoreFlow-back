-- 프로젝트 생성 후 아래 작업 데이터 추가하기


-- 작업(work) 테이블 초기 데이터 삽입
INSERT INTO work (
    id, name, description, created_at,
    start_base, end_base, start_expect, end_expect,
    start_real, end_real,
    progress_rate, passed_rate, delay_days,
    status, slack_time, parent_task_id, project_id
) VALUES
      (100, '시장 조사', '여름 시즌 트렌드 분석 및 벤치마킹', '2025-06-15 23:30:00',
       '2025-06-01', '2025-06-05', '2025-06-01', '2025-06-05',
       '2025-06-01', '2025-06-05',
       100, 100, 0, 'COMPLETED', 0, NULL, 8),

      (101, '제품 기획안 작성', '타깃 및 제품 콘셉트 정의', '2025-06-15 23:30:00',
       '2025-06-06', '2025-06-10', '2025-06-06', '2025-06-10',
       '2025-06-06', '2025-06-10',
       100, 100, 0, 'COMPLETED', 1, 100, 8),

      (102, '디자인 시안 제작', '기획안을 바탕으로 1차 디자인 안 도출', '2025-06-15 23:30:00',
       '2025-06-11', '2025-06-17', '2025-06-11', '2025-06-17',
       NULL, NULL,
       80, 80, 0, 'PROGRESS', 1, 101, 8),

      (103, '소재 소싱', '디자인에 맞는 소재 확보', '2025-06-15 23:30:00',
       '2025-06-11', '2025-06-15', '2025-06-11', '2025-06-15',
       NULL, NULL,
       60, 60, 0, 'PROGRESS', 2, 101, 8),

      (104, '샘플 제작', '디자인 및 소재 확정 후 샘플 제작', '2025-06-15 23:30:00',
       '2025-06-18', '2025-06-23', '2025-06-18', '2025-06-23',
       NULL, NULL,
       0, 0, 0, 'PENDING', 1, NULL, 8),

      (105, '내부 피드백 및 수정', '샘플 기반 피드백 및 수정안 도출', '2025-06-15 23:30:00',
       '2025-06-24', '2025-06-27', '2025-06-24', '2025-06-27',
       NULL, NULL,
       0, 0, 0, 'PENDING', 0, NULL, 8),

      (106, '최종 생산 준비', '수정 반영된 최종 샘플 승인 및 생산 준비', '2025-06-15 23:30:00',
       '2025-06-28', '2025-07-05', '2025-06-28', '2025-07-05',
       NULL, NULL,
       0, 0, 0, 'PENDING', 0, NULL, 8),

      (107, '본 생산', '제품 대량 생산 진행', '2025-06-15 23:30:00',
       '2025-07-06', '2025-07-15', '2025-07-06', '2025-07-15',
       NULL, NULL,
       0, 0, 0, 'PENDING', 0, NULL, 8);

-- 작업 간 관계(relation) 삽입
INSERT INTO relation (prev_work_id, next_work_id)
VALUES
    (100, 101),
    (100, 103),
    (100, 104), -- 추가 연결: 시장 조사 → 샘플 제작
    (101, 102),
    (101, 103),
    (102, 104),
    (103, 104),
    (104, 105),
    (105, 106),
    (106, 107);

-- 작업별 참여 부서(work_dept) 삽입
INSERT INTO work_dept (work_id, dept_id)
VALUES
    (100, 1), -- 시장 조사: 기획팀
    (101, 1), -- 기획안 작성: 기획팀
    (102, 2), -- 디자인 시안: 디자인팀
    (103, 3), -- 소재 소싱: 소싱팀
    (104, 4), -- 샘플 제작: 생산팀
    (105, 2), (105, 6), -- 피드백 수정: 디자인 + 개발팀
    (106, 4), (106, 5), -- 생산 준비: 생산 + 협력업체
    (107, 4), (107, 5); -- 본 생산: 생산 + 협력업체
